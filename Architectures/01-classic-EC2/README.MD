## Deploiement of the application on classic EC2

# AWS VPC â€“ Architecture multi-AZ

## ðŸ”§ applied Skills
- [x] Utiliser Git/Github pour le versionning
- [x] 3 branchs : PR (local), develop(staging), main(prod)
- [x] CI/CD via github action en fonction des push sur une branch
- [x] configuration et bonnes pratiques VPC
- [x] Division de VPC en 4 subnets
- [x] COnfigurtaion des tables de routages attachÃ©es Ã  chaque route
- [x] Configuration d'internet Gateway
- [x] Configuration des rÃ¨gles sortant/Entrant via security group
- [x] Configuration Network ACL pour une couche suplÃ©mentaire de sÃ©curitÃ© des sous rÃ©seausx
- [x] Mettre en place un suivi de log est cache de l'application

## ðŸ› ï¸ Securisation de l'infrastructure
- [x] Bonnes pratiques de securisation linux  
- Connexion par clÃ© ssh pas de mot de passe
- Limiter les accÃ¨s par IP au niveau du firewall
- Ajouter une couche de sÃ©curitÃ© avec Fail2ban
- Surveiller les log

## ðŸ—ï¸ Architecture


## ðŸ› ï¸ DifficultÃ©s rencontrÃ©es
- Site inaccessible aprÃ¨s avoir parametrÃ© IGW, Route table, Security groups
==> Investigation faite via l'instance EC2 local via ssh
    systemctl status nginx => 
    ![Image troubleshooting arror access http EC2](./images/nginx_ssh.png)

    Reinstallation propre des package nÃ©cessaire 
    ![Image commandeline of installation package with nginx & php](./images/install_package_linux.png)

==> Curl local en session ssh : curl http://localhost : resulta correct âœ… mais toujours pas de reponse via le navigateur

- Verification nginx et les ports ecoutÃ©s :  sudo ss -tulpn | grep :80 
==> Le port 80 est bien en ecoute depuis n'importe quelle source

   ![tulpn troubleshooting ssh session](./images/tulpn_nginx.png)

- ping de l'ip publique depuis ma machine distant : KO
- curl -v http://16.171.62.43 : OK âœ…
- Erreur : j'ai executÃ© le test directement 16.171.62.43 et le protocole par dÃ©faut du navigateur Ã©tait https , il suffisait juste ecrire correcte http://16.171.62.43

## âœ… Acquis


## ðŸ“„ DÃ©tails techniques
